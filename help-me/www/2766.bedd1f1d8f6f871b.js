"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2766],{2766:(Se,T,g)=>{g.r(T),g.d(T,{ProviderDetailPageModule:()=>Fe});var P=g(177),N=g(4341),v=g(4742),C=g(5260),x=g(467),O=g(1985),$=g(3726),G={error:"cordova_not_available"},j={error:"plugin_not_installed"};function b(t){if(typeof window<"u"&&window.angular){var r=window.document,i=window.angular.element(r.querySelector("[ng-app]")||r.body).injector();if(i)return i.get("$q")(function(a,s){t(a,s)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(a,s){t(a,s)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function R(t,n,r){var i,o;"string"==typeof t?i=t:(i=t.constructor.getPluginRef(),r=t.constructor.getPluginName(),o=t.constructor.getPluginInstallName());var a=S(i);return!(!a||n&&typeof a[n]>"u")||(typeof window>"u"||!window.cordova?(function z(t,n){typeof process>"u"&&console.warn(n?"Native: tried calling "+t+"."+n+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(r,n),G):(function Y(t,n,r){console.warn(r?"Native: tried calling "+t+"."+r+", but the "+t+" plugin is not installed.":"Native: tried accessing the "+t+" plugin but it's not installed."),n&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+n+"'")}(r,o,n),j))}function _(t,n,r,i,o,a){void 0===i&&(i={}),r=function B(t,n,r,i){if(void 0===n&&(n={}),n.sync)return t;if("reverse"===n.callbackOrder)t.unshift(i),t.unshift(r);else if("node"===n.callbackStyle)t.push(function(l,u){l?i(l):r(u)});else if("object"===n.callbackStyle&&n.successName&&n.errorName){var o={};o[n.successName]=r,o[n.errorName]=i,t.push(o)}else if(typeof n.successIndex<"u"||typeof n.errorIndex<"u"){var a=function(){n.successIndex>t.length?t[n.successIndex]=r:t.splice(n.successIndex,0,r)},s=function(){n.errorIndex>t.length?t[n.errorIndex]=i:t.splice(n.errorIndex,0,i)};n.successIndex>n.errorIndex?(s(),a()):(a(),s())}else t.push(r),t.push(i);return t}(r,i,o,a);var s=R(t,n);if(!0===s){var l=S(t.constructor.getPluginRef());return l[n].apply(l,r)}return s}function S(t){return typeof window<"u"?A(window,t):null}function A(t,n){for(var r=n.split("."),i=t,o=0;o<r.length;o++){if(!i)return null;i=i[r[o]]}return i}var K=function(){function t(){}return t.installed=function(){return!0===R(this.pluginRef)},t.getPlugin=function(){return typeof window<"u"?function Q(t,n){for(var r=n.split("."),i=t,o=0;o<r.length;o++){if(!i)return null;i=i[r[o]]}return i}(window,this.pluginRef):null},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms},t.pluginName="",t.pluginRef="",t.plugin="",t.repo="",t.platforms=[],t.install="",t}();function D(t,n,r,i){return function(t,n,r){return void 0===r&&(r={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.sync?_(t,n,i,r):r.observable?function L(t,n,r,i){return void 0===i&&(i={}),new O.c(function(o){var a;return a=i.destruct?_(t,n,r,i,function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o.next(s)},function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o.error(s)}):_(t,n,r,i,o.next.bind(o),o.error.bind(o)),a&&a.error&&(o.error(a.error),o.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?_(t,i.clearFunction,r,i,o.next.bind(o),o.error.bind(o)):_(t,i.clearFunction,[])}catch(s){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),n),console.warn(s)}}})}(t,n,i,r):r.eventObservable&&r.event?function W(t,n){return n=typeof window<"u"&&n?A(window,n):n||(typeof window<"u"?window:{}),(0,$.R)(n,t)}(r.event,r.element):r.otherPromise?function X(t,n,r,i){return void 0===i&&(i={}),b(function(o,a){var s=_(t,n,r,i);s?s.error?a(s.error):s.then&&s.then(o).catch(a):a({error:"unexpected_error"})})}(t,n,i,r):function U(t,n,r,i){void 0===i&&(i={});var o,a,s=b(function(l,u){o=i.destruct?_(t,n,r,i,function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];return l(f)},function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];return u(f)}):_(t,n,r,i,l,u),a=u});return o&&o.error&&(s.catch(function(){}),"function"==typeof a&&a(o.error)),s}(t,n,i,r)}}(t,n,r).apply(this,i)}!function M(){if(typeof process>"u"){var t=typeof window<"u"?window:{},r=Date.now(),i=!1;t.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-r)+" ms"),i=!0}),setTimeout(function(){!i&&t.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var Z=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])})(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),k=function(t){return t.PRODUCTION="PRODUCTION",t.SANDBOX="SANDBOX",t}(k||{}),q=function(){return function t(n,r,i){if(null===n||""===n.trim())throw new Error("sessionID cannot be empty");if(null===r||""===r.trim())throw new Error("orderID cannot be empty");if(null===i||""===i.trim())throw new Error("environment cannot be empty");this.payment_session_id=n,this.orderID=r,this.environment=k[i]}}(),y=function(t){return t.CARD="CARD",t.UPI="UPI",t.NB="NB",t.WALLET="WALLET",t.EMI="EMI",t.PAY_LATER="PAY_LATER",t.PAYPAL="PAYPAL",t}(y||{}),ee=function(){function t(){this.hashset=new Set}return t.prototype.enableAllModes=function(){this.hashset.add(y.CARD),this.hashset.add(y.UPI),this.hashset.add(y.NB),this.hashset.add(y.WALLET),this.hashset.add(y.EMI),this.hashset.add(y.PAY_LATER),this.hashset.add(y.PAYPAL)},t.prototype.build=function(){return 0===this.hashset.size&&this.enableAllModes(),{hashset:this.hashset}},t.prototype.add=function(n){return this.hashset.add(n),this},t}(),F=function(){function t(){this.navigationBarBackgroundColor="#6A3FD3",this.navigationBarTextColor="#FFFFFF",this.buttonBackgroundColor="#6A3FD3",this.buttonTextColor="#FFFFFF",this.backgroundColor="#FFFFFF",this.primaryTextColor="#11385b",this.secondaryTextColor="#808080"}return t.prototype.setNavigationBarBackgroundColor=function(n){return this.navigationBarBackgroundColor=n,this},t.prototype.setNavigationBarTextColor=function(n){return this.navigationBarTextColor=n,this},t.prototype.setButtonBackgroundColor=function(n){return this.buttonBackgroundColor=n,this},t.prototype.setButtonTextColor=function(n){return this.buttonTextColor=n,this},t.prototype.setPrimaryTextColor=function(n){return this.primaryTextColor=n,this},t.prototype.setSecondaryTextColor=function(n){return this.secondaryTextColor=n,this},t.prototype.setBackgroundColor=function(n){return this.backgroundColor=n,this},t.prototype.build=function(){return{navigationBarBackgroundColor:this.navigationBarBackgroundColor,navigationBarTextColor:this.navigationBarTextColor,buttonBackgroundColor:this.buttonBackgroundColor,backgroundColor:this.backgroundColor,buttonTextColor:this.buttonTextColor,primaryTextColor:this.primaryTextColor,secondaryTextColor:this.secondaryTextColor}},t}(),te=function(){function t(){this.navigationBarBackgroundColor="#6A3FD3",this.navigationBarTextColor="#FFFFFF"}return t.prototype.setNavigationBarBackgroundColor=function(n){return this.navigationBarBackgroundColor=n,this},t.prototype.setNavigationBarTextColor=function(n){return this.navigationBarTextColor=n,this},t.prototype.build=function(){var n=(new F).build();return{buttonBackgroundColor:n.buttonBackgroundColor,buttonTextColor:n.buttonTextColor,navigationBarBackgroundColor:this.navigationBarBackgroundColor,navigationBarTextColor:this.navigationBarBackgroundColor,secondaryTextColor:n.secondaryTextColor,backgroundColor:n.backgroundColor,primaryTextColor:n.buttonTextColor}},t}(),ne=(function(){function t(n,r,i){this.components=Array.from((new ee).build().hashset),this.theme=(new F).build(),this.session=n,null!==r&&(this.components=Array.from(r.hashset)),null!==i&&(this.theme=i)}t.prototype.getSession=function(){return this.session},t.prototype.getComponents=function(){return this.components},t.prototype.getTheme=function(){return this.theme}}(),function(){function t(n,r){this.theme=(new te).build(),this.session=n,null!==r&&(this.theme=r)}return t.prototype.getSession=function(){return this.session},t.prototype.getTheme=function(){return this.theme},t}()),E=(function(){function t(n,r){this.theme=(new F).build(),this.session=n,null!==r&&(this.theme=r)}t.prototype.getSession=function(){return this.session},t.prototype.getTheme=function(){return this.theme}}(),new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Z(n,t),n.prototype.doDropPayment=function(r){return D(this,"doDropPayment",{},arguments)},n.prototype.doWebCheckoutPayment=function(r){return D(this,"doWebCheckoutPayment",{},arguments)},n.prototype.doUPIPayment=function(r){return D(this,"doUPIPayment",{},arguments)},n.prototype.setCallback=function(r){return D(this,"setCallback",{},arguments)},n.pluginName="CFPaymentGateway",n.plugin="cordova-plugin-cashfree-pg",n.pluginRef="CFPaymentGateway",n.repo="https://github.com/cashfree/cordova-plugin-cashfree",n.platforms=["Android","iOS"],n}(K))),w=g(5312),e=g(3953),ie=g(8880),oe=g(5037),ae=g(4280),se=g(7788);const le=()=>[0,.25,.5,.75,1];function ce(t,n){1&t&&(e.j41(0,"ion-avatar"),e.nrm(1,"img",12),e.k0s())}function ue(t,n){if(1&t&&(e.j41(0,"ion-avatar")(1,"div",13),e.EFF(2),e.k0s()()),2&t){const r=e.XpG(2);e.R7$(2),e.SpI(" ",r.selectedProviderData.service_provider_name.charAt(0)," ")}}function de(t,n){1&t&&e.EFF(0," years ")}function fe(t,n){1&t&&e.EFF(0," year ")}function ve(t,n){if(1&t&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.nI1(4,"titlecase"),e.k0s()(),e.j41(5,"ion-card-content")(6,"div",14),e.EFF(7),e.nI1(8,"currency"),e.k0s()()()),2&t){const r=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,2,"Consultation Charges"),""),e.R7$(4),e.SpI(" ",e.i5U(8,4,r.selectedProviderData.consultation_fees,"INR")," ")}}function ge(t,n){if(1&t){const r=e.RV6();e.j41(0,"div",23)(1,"ion-button",24),e.bIt("click",function(){e.eBV(r);const o=e.XpG().$implicit,a=e.XpG(3);return e.Njj(a.decreaseCount(o))}),e.EFF(2,"-"),e.k0s(),e.EFF(3),e.j41(4,"ion-button",24),e.bIt("click",function(){e.eBV(r);const o=e.XpG().$implicit,a=e.XpG(3);return e.Njj(a.increaseCount(o))}),e.EFF(5,"+"),e.k0s()()}if(2&t){const r=e.XpG().$implicit;e.R7$(3),e.SpI(" ",r.count," ")}}function me(t,n){if(1&t){const r=e.RV6();e.j41(0,"div",25)(1,"ion-button",24),e.bIt("click",function(){e.eBV(r);const o=e.XpG().$implicit,a=e.XpG(3);return e.Njj(a.increaseCount(o))}),e.EFF(2,"ADD"),e.k0s()()}}function he(t,n){if(1&t&&(e.j41(0,"ion-item")(1,"div",16)(2,"div",17)(3,"div",18),e.EFF(4),e.nI1(5,"titlecase"),e.k0s(),e.j41(6,"div",19),e.EFF(7),e.nI1(8,"currency"),e.k0s()(),e.j41(9,"div",20),e.DNE(10,ge,6,1,"div",21)(11,me,3,0,"div",22),e.k0s()()()),2&t){const r=n.$implicit;e.R7$(4),e.SpI(" ",e.bMT(5,4,r.service_name)," "),e.R7$(3),e.SpI(" ",e.i5U(8,6,r.rate,"INR")," "),e.R7$(3),e.Y8G("ngIf",r.count&&r.count>0),e.R7$(),e.Y8G("ngIf",0===r.count)}}function pe(t,n){if(1&t&&(e.j41(0,"ion-label")(1,"h1"),e.EFF(2,"Services"),e.k0s()(),e.DNE(3,he,12,9,"ion-item",15)),2&t){const r=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",r.selectedProviderData.service_provider_domain)}}function _e(t,n){if(1&t){const r=e.RV6();e.j41(0,"ion-button",24),e.bIt("click",function(){e.eBV(r);const o=e.XpG(2);return e.Njj(o.bookAppointment(o.selectedProviderData))}),e.EFF(1,"Book Slot"),e.k0s()}}function ye(t,n){if(1&t&&(e.j41(0,"div",0)(1,"ion-card",3)(2,"ion-card-content")(3,"div",4)(4,"div",5)(5,"div",6),e.DNE(6,ce,2,0,"ion-avatar")(7,ue,3,1,"ion-avatar"),e.k0s(),e.j41(8,"div",7)(9,"h2")(10,"b"),e.EFF(11),e.nI1(12,"titlecase"),e.k0s()(),e.j41(13,"div",8),e.EFF(14),e.nrm(15,"br"),e.EFF(16),e.DNE(17,de,1,0)(18,fe,1,0),e.k0s(),e.j41(19,"div",9),e.nrm(20,"app-star-rating",10),e.k0s()()()()()(),e.j41(21,"div",11)(22,"ion-list")(23,"ion-list-header")(24,"ion-label"),e.EFF(25,"Services"),e.k0s()(),e.DNE(26,ve,9,7,"ion-card")(27,pe,4,1),e.k0s()(),e.DNE(28,_e,2,0,"ion-button"),e.k0s()),2&t){const r=e.XpG();e.R7$(6),e.vxM(r.selectedProviderData.service_provider_image?6:7),e.R7$(5),e.SpI("",e.bMT(12,9,r.selectedProviderData.service_provider_name)," "),e.R7$(3),e.SpI(" ",10*r.selectedProviderData.total_service_completed,"+ services provided "),e.R7$(2),e.SpI(" EXP ",r.selectedProviderData.service_provider_experience," "),e.R7$(),e.vxM(r.selectedProviderData.service_provider_experience>1?17:18),e.R7$(3),e.Y8G("rating",r.selectedProviderData.service_provider_rating),e.R7$(6),e.vxM(r.selectedProviderData.consultation_fees?26:-1),e.R7$(),e.vxM(r.selectedProviderData.service_provider_domain?27:-1),e.R7$(),e.vxM(r.taxData?28:-1)}}function Pe(t,n){if(1&t&&(e.j41(0,"ion-item",42)(1,"div",43),e.EFF(2),e.j41(3,"div",44)(4,"div",45),e.EFF(5),e.k0s(),e.j41(6,"div",46),e.EFF(7," x "),e.k0s(),e.j41(8,"div",47),e.EFF(9),e.nI1(10,"currency"),e.k0s()()(),e.j41(11,"div",48)(12,"div",49),e.EFF(13),e.nI1(14,"number"),e.nI1(15,"currency"),e.k0s()()()),2&t){const r=n.$implicit;e.R7$(2),e.SpI(" ",r.service_name," "),e.R7$(3),e.SpI(" ",r.count," "),e.R7$(4),e.SpI(" ",e.i5U(10,4,r.rate,"INR")," "),e.R7$(4),e.SpI(" ",e.i5U(15,10,e.i5U(14,7,r.total_price,"1.2-2"),"INR")," ")}}function Ce(t,n){if(1&t){const r=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",26)(3,"ion-button",24),e.bIt("click",function(){e.eBV(r);const o=e.XpG();return e.Njj(o.closeSummary())}),e.EFF(4,"Cancel"),e.k0s()(),e.j41(5,"ion-title",27),e.EFF(6,"Summary"),e.k0s(),e.j41(7,"ion-buttons",28)(8,"ion-button",29),e.bIt("click",function(){e.eBV(r);const o=e.XpG();return e.Njj(o.confirmPayment())}),e.EFF(9,"Checkout"),e.k0s()()()(),e.j41(10,"ion-content",30)(11,"div",31)(12,"div",32)(13,"ion-list")(14,"ion-item-group")(15,"div",33)(16,"div",34),e.DNE(17,Pe,16,13,"ion-item",35),e.j41(18,"ion-item-divider")(19,"ion-label"),e.EFF(20," Payment Summary "),e.k0s()(),e.j41(21,"ion-item")(22,"div",36)(23,"b"),e.EFF(24,"Taxes and Fee"),e.k0s()(),e.j41(25,"div",37),e.EFF(26),e.nI1(27,"currency"),e.k0s()(),e.j41(28,"ion-item")(29,"div",36)(30,"b"),e.EFF(31,"Service Total"),e.k0s()(),e.j41(32,"div",37),e.EFF(33),e.nI1(34,"currency"),e.k0s()(),e.j41(35,"ion-item",38)(36,"div",36)(37,"b"),e.EFF(38,"Minimum Charge"),e.k0s(),e.nrm(39,"br"),e.j41(40,"p",39),e.EFF(41,"*Consultation charge, need to be paid to genie if no service is availed."),e.k0s()(),e.j41(42,"div",37),e.EFF(43),e.nI1(44,"currency"),e.k0s()(),e.j41(45,"ion-item")(46,"div",36)(47,"b"),e.EFF(48),e.nI1(49,"titlecase"),e.k0s()(),e.j41(50,"div",37),e.EFF(51),e.nI1(52,"currency"),e.k0s()()()()()(),e.j41(53,"ion-item")(54,"div",40),e.EFF(55," Service date "),e.k0s(),e.nrm(56,"ion-datetime-button",41),e.k0s()()()()}if(2&t){const r=e.XpG();e.R7$(8),e.Y8G("strong",!0),e.R7$(9),e.Y8G("ngForOf",r.service_data_list),e.R7$(9),e.SpI(" ",e.i5U(27,8,r.taxData.service_charge,"INR")," "),e.R7$(7),e.SpI(" ",e.i5U(34,11,r.totalAmount,"INR")," "),e.R7$(2),e.Y8G("disabled",!0),e.R7$(8),e.SpI(" ",e.i5U(44,14,null==r.selectedProviderData?null:r.selectedProviderData.consultation_fees,"INR")," "),e.R7$(5),e.JRh(e.bMT(49,17,"Amount Payable Now")),e.R7$(3),e.SpI(" ",e.i5U(52,19,r.taxData.service_charge,"INR")," ")}}function be(t,n){if(1&t){const r=e.RV6();e.j41(0,"ion-datetime",50),e.bIt("ionChange",function(o){e.eBV(r);const a=e.XpG();return e.Njj(a.dateChanged(o))}),e.k0s()}if(2&t){const r=e.XpG();e.Y8G("showDefaultButtons",!0)("value",r.min_date)("min",r.min_date)("max",r.max_date)}}const De=[{path:"",component:(()=>{var t;class n{constructor(i,o,a,s,l,u){this.platform=i,this.loadingCtrl=o,this.router=a,this.categoryDetailService=s,this.storage=l,this.route=u,this.before_total=0,this.totalAmount=0,this.total=0,this.gst_charge=0,this.openOrderSummaryDetail=!1,this.scheduleDate=(new Date).toString(),this.service_data_list=[],this.min_date=(new Date).toISOString(),this.max_date=new Date((new Date).getTime()+2592e6).toISOString()}ngOnInit(){var i;this.providerID=null===(i=this.route)||void 0===i||null===(i=i.snapshot)||void 0===i||null===(i=i.paramMap)||void 0===i?void 0:i.get("providerID"),this.getProviderDetails()}getProviderDetails(){this.categoryDetailService.getServiceProviderData(this.providerID).subscribe(i=>{console.log(i),this.selectProvider(i)})}selectProvider(i){var o;this.categoryDetailService.getTaxData().subscribe(a=>{console.log(a),this.taxData=a}),this.selectedProviderData=i,null===(o=this.selectedProviderData)||void 0===o||null===(o=o.service_provider_domain)||void 0===o||o.map(a=>(a.count=0,a)),console.log(this.selectedProviderData)}bookAppointment(i){if(null==this.taxData)return void console.log("unable to fetch tax data");this.service_data_list.map(l=>(l.total_price=l.count*l.rate,l));const o=this.service_data_list.reduce((l,u)=>l+u.total_price,0),a=Math.round(100*o)/100,s=a*this.taxData.Tax/100;this.before_total=a,this.total=Math.floor(a),this.total=Math.floor(a+s),this.totalAmount=a,this.openOrderSummaryDetail=!0}dateChanged(i){console.log(i),console.log(i.detail.value),this.scheduleDate=i.detail.value}increaseCount(i){console.log(this.service_data_list);let o=this.service_data_list.findIndex(a=>a==i);o>=0?this.service_data_list[o].count++:(i.count++,this.service_data_list.push(i))}decreaseCount(i){let o=this.service_data_list.findIndex(a=>a==i);o>=0&&this.service_data_list.splice(o,1),i.count>0&&i.count--}confirm(){if(null==this.taxData)return void console.log("unable to fetch tax data");this.service_data_list.map(a=>(a.total_price=a.count*a.rate,a));const i=this.service_data_list.reduce((a,s)=>a+s.total_price,0),o=Math.round(100*i)/100;this.total=Math.floor(o),this.totalAmount=o,this.openOrderSummaryDetail=!0}cancel(){this.selectedProviderData=null}onWillDismiss(i){this.openOrderSummaryDetail=!1}closeSummary(){this.openOrderSummaryDetail=!1}confirmPayment(){var i=this;return(0,x.A)(function*(){i.showLoading();let o=yield i.storage.get("userDetails");if(o&&i.selectedProviderData){let a={order_value:i.taxData.service_charge,order_provider_value:i.totalAmount?i.totalAmount:i.selectedProviderData.consultation_fees,order_items:i.service_data_list,order_user_id:o.user_id,order_genie_id:i.selectedProviderData.service_provider_id,order_date:new Date(i.scheduleDate),order_status:"Initiated",order_payment_id:null,order_address:o.user_address[0]};console.log(a),i.openOrderSummaryDetail=!1,null!=a&&a.order_value&&i.categoryDetailService.createOrder(a).subscribe(s=>{console.log(s);let l=o.user_phone.toString();l.startsWith("91")&&(l=l.substring(2)),console.log(l);let u={customer_details:{customer_email:o.user_email,customer_id:a.order_user_id,customer_phone:l},order_amount:a.order_value,order_id:s.order_id,order_currency:"INR",order_meta:{}};try{i.paymnetLoading&&i.paymnetLoading.dismiss()}catch(f){console.error(f)}i.categoryDetailService.createCashfreeOrder(u).subscribe(function(){var f=(0,x.A)(function*(c){console.log(c);let d=c.payment_session_id;console.log(d);const h=new Cashfree({mode:w.c.production?"production":"sandbox"});let we={paymentSessionId:d,returnUrl:w.c.LOGIN_REDIRECT+"/order/payment-status/"+c.order_id};const Ie=new q(d,c.order_id,w.c.production?k.PRODUCTION:k.SANDBOX),Re=new ne(Ie,null),Be={onVerify:m=>{console.log("********* payment response"+{orderID:m.orderID}),console.log("********* payment response"+JSON.stringify(m)),i.router.navigateByUrl("/home/order/payment-status/"+m.orderID,{skipLocationChange:!0,replaceUrl:!0})},onError:m=>{console.log({orderID:c.order_id,status:m.status,code:m.code,type:m.type,message:m.message})}};/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent)?(E.setCallback(Be),E.doWebCheckoutPayment(Re)):(console.log("in web app payment"),h.checkout(we).then(m=>{m.error&&alert(m.error.message),m.redirect&&(console.log("Redirection"),i.router.navigateByUrl("/home/order/payment-status/"+m.orderID,{skipLocationChange:!0,replaceUrl:!0}))}))});return function(c){return f.apply(this,arguments)}}())})}else console.log("error in user data"),i.router.navigate(["/login"])})()}showLoading(){var i=this;return(0,x.A)(function*(){i.paymnetLoading=yield i.loadingCtrl.create({message:"Initializing payment..",duration:4e3}),i.paymnetLoading.present()})()}}return(t=n).\u0275fac=function(i){return new(i||t)(e.rXU(ie.OD),e.rXU(v.Xi),e.rXU(C.Ix),e.rXU(oe.p),e.rXU(ae.s),e.rXU(C.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-provider-detail"]],decls:5,vars:7,consts:[[1,"service-block"],[3,"willDismiss","isOpen","initialBreakpoint","breakpoints"],[1,"date-bd",3,"keepContentsMounted","showBackdrop"],[1,"provider-info-card"],[1,"provider-info-block"],[1,"provider-name-block"],[1,"image-block"],[1,"info-panel"],[1,"service-completed-block"],[1,"rating-block"],[3,"rating"],[1,"service-list-container"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],[1,"name-icon"],["slot","end",1,"consultation_fees"],[4,"ngFor","ngForOf"],[1,"service-item-container"],[1,"service-data"],[1,"service-name"],[1,"service-rate"],["slot","end",1,"add-btn-block"],["class","button_positon quantity_btn",4,"ngIf"],["class","button_positon quantity_add_btn",4,"ngIf"],[1,"button_positon","quantity_btn"],[3,"click"],[1,"button_positon","quantity_add_btn"],["slot","start"],[1,"provider_title"],["slot","end"],[3,"click","strong"],[1,"ion-padding"],[1,"summary-block"],[1,"main-summary-block"],[1,"sum-conatiner"],[1,"order-summary-container"],["class","oder-item-block",4,"ngFor","ngForOf"],[1,"total-container"],["slot","end",1,"total-data"],[3,"disabled"],[2,"font-size","small"],[1,"schedule-text-block"],["slot","end","datetime","datetime"],[1,"oder-item-block"],["slot","start",1,"item-name"],["color","light",1,"quantity-block"],[1,"item-quantity"],[1,"item-multiply"],[1,"item-price"],["slot","end",1,"order-number-data"],[1,"item-total"],["id","datetime",3,"ionChange","showDefaultButtons","value","min","max"]],template:function(i,o){1&i&&(e.DNE(0,ye,29,11,"div",0),e.j41(1,"ion-modal",1),e.bIt("willDismiss",function(s){return o.onWillDismiss(s)}),e.DNE(2,Ce,57,22,"ng-template"),e.k0s(),e.j41(3,"ion-modal",2),e.DNE(4,be,1,4,"ng-template"),e.k0s()),2&i&&(e.vxM(o.selectedProviderData?0:-1),e.R7$(),e.Y8G("isOpen",o.openOrderSummaryDetail)("initialBreakpoint",.75)("breakpoints",e.lJ4(6,le)),e.R7$(2),e.Y8G("keepContentsMounted",!0)("showBackdrop",!0))},dependencies:[P.Sq,P.bT,v.mC,v.Jm,v.QW,v.b_,v.I9,v.ME,v.tN,v.W9,v.A9,v.K4,v.eU,v.uz,v.Dg,v.jh,v.he,v.nf,v.AF,v.BC,v.ai,v.Sb,v.Je,se.V,P.QX,P.PV,P.oe],styles:[".service-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:1rem}.service-data[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;justify-content:space-between;width:100%}.service-rate[_ngcontent-%COMP%]{color:gray}.service-provider-block[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}.service-item-container[_ngcontent-%COMP%]{height:5rem;display:flex;width:100%;flex-direction:row;justify-content:space-between;align-items:center}.schedule-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;justify-content:space-around}.total-data[_ngcontent-%COMP%]{padding-right:.5rem}.date-bd[_ngcontent-%COMP%]{--backdrop-opacity:.8 !important}.consultation_fees[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:x-large}.name-icon[_ngcontent-%COMP%]{font-size:xx-large;display:flex;align-content:center;justify-content:center;align-items:center;border-radius:50%}ion-avatar[_ngcontent-%COMP%]{--border-radius: 50%;display:flex;justify-content:center;align-items:center;border:1px solid gray}.provider-name-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}.provider-info-card[_ngcontent-%COMP%]{background-color:#546e7a;color:#fff}.quantity_btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-evenly;gap:.5rem}.quantity-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.2rem;color:gray}"]}),n})()}];let ke=(()=>{var t;class n{}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[C.iI.forChild(De),C.iI]}),n})();var xe=g(1051);let Fe=(()=>{var t;class n{}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[P.MD,N.YN,v.bv,ke,xe.a]}),n})()}}]);