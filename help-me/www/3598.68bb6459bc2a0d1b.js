"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3598],{9489:(R,p,e)=>{e.d(p,{y:()=>g});const g=(0,e(5083).F3)("Toast",{web:()=>e.e(2771).then(e.bind(e,2771)).then(v=>new v.ToastWeb)})},3644:(R,p,e)=>{e.d(p,{X:()=>f});var c=e(467),g=e(1792),v=e(9489),n=e(3953),d=e(4742),C=e(8880),M=e(4280),_=e(7373),i=e(5260);function u(s,h){if(1&s){const b=n.RV6();n.j41(0,"div",8)(1,"div",13),n.bIt("click",function(){n.eBV(b);const o=n.XpG();return n.Njj(o.Login())}),n.j41(2,"div",14)(3,"div",15)(4,"div",16),n.qSk(),n.j41(5,"svg",17)(6,"g"),n.nrm(7,"path",18)(8,"path",19)(9,"path",20)(10,"path",21)(11,"path",22),n.k0s()()()(),n.joV(),n.j41(12,"span",23)(13,"span",24),n.EFF(14,"Sign in with Google"),n.k0s(),n.j41(15,"span",25),n.EFF(16,"Signed in with Google"),n.k0s()()()()()}}function m(s,h){1&s&&n.nrm(0,"ion-progress-bar",9)}let f=(()=>{var s;class h{constructor(t,o,r,a,l){this.loadingCtrl=t,this.platform=o,this.storageService=r,this.firebaseService=a,this.router=l,this.userImage="",this.crrrr=[],this.loading=null,this.storageInitialized=!1}ngOnInit(){this.initializeStorage()}initializeStorage(){var t=this;return(0,c.A)(function*(){yield t.storageService.init(),t.storageInitialized=!0,console.log("Storage Initialized")})()}getCurrentUser(){var t=this;return(0,c.A)(function*(){const o=yield g.uo.getCurrentUser();return yield t.storageService.set("user_data",JSON.stringify(o.user)),o.user})()}finalAuth(){var t=this;return(0,c.A)(function*(){try{const a=yield t.getCurrentUser();var o;if(!a)return void(null===(o=t.loading)||void 0===o||o.dismiss());yield t.storageService.set("providerID",a.uid),yield t.storageService.set("validUser",!0),t.checkRegisteredUser(a.uid)}catch(a){var r;console.error("Error in finalAuth:",a),null===(r=t.loading)||void 0===r||r.dismiss()}})()}signIn(){var t=this;return(0,c.A)(function*(){try{yield t.showLoading(),(yield g.uo.signInWithGoogle())?(console.log("Authenticated"),t.finalAuth()):console.log("Error in authentication")}catch(r){var o;console.error("Error in signIn:",r),null===(o=t.loading)||void 0===o||o.dismiss()}})()}showLoading(){var t=this;return(0,c.A)(function*(){try{t.loading=yield t.loadingCtrl.create({message:"Loading....."}),yield t.loading.present()}catch(r){var o;console.error("Error showing loading:",r),null===(o=t.loading)||void 0===o||o.dismiss()}})()}checkRegisteredUser(t){var o=this;return(0,c.A)(function*(){try{yield o.storageService.set("userid",t),o.firebaseService.CheckUserRegistered(t).subscribe(function(){var a=(0,c.A)(function*(l){if(l&&l.user_phone){const B=yield o.firebaseService.getUserData();var O,P;B?(console.log("getUserData:",B),yield o.storageService.set("user-email",B.email),yield o.storageService.set("verified",!0),yield o.storageService.set("validUser",!0),null===(O=o.loading)||void 0===O||O.dismiss(),o.router.navigate(["/home"])):null===(P=o.loading)||void 0===P||P.dismiss()}else{var y;yield o.storageService.set("verified",!1),console.log("It's a new user"),null===(y=o.loading)||void 0===y||y.dismiss(),o.router.navigate(["/register"])}});return function(l){return a.apply(this,arguments)}}(),a=>{var l;console.error("API error",a),null===(l=o.loading)||void 0===l||l.dismiss(),o.unableToVerifyToast()})}catch(a){var r;console.error("Error in checkRegisteredUser:",a),null===(r=o.loading)||void 0===r||r.dismiss(),o.unableToVerifyToast()}})()}unableToVerifyToast(){!function(){var o=(0,c.A)(function*(){yield v.y.show({text:"Unable to authenticate! Please try in some time"})});return function(){return o.apply(this,arguments)}}()()}signInAnonymously(){var t=this;return(0,c.A)(function*(){try{var o;yield t.showLoading(),(yield g.uo.signInWithEmailAndPassword({email:"test@gmail.com",password:"test@123"}))?(console.log("Authenticated"),t.checkRegisteredUser("INbUEdnjI9ZYzqqj74LuNXjlKrP2")):(console.log("Error in authentication"),null===(o=t.loading)||void 0===o||o.dismiss())}catch(a){var r;console.error("Error in signInAnonymously:",a),null===(r=t.loading)||void 0===r||r.dismiss()}})()}Login(){this.signIn()}ngOnDestroy(){console.log("Login destroyed")}}return(s=h).\u0275fac=function(t){return new(t||s)(n.rXU(d.Xi),n.rXU(C.OD),n.rXU(M.s),n.rXU(_.q),n.rXU(i.Ix))},s.\u0275cmp=n.VBU({type:s,selectors:[["app-login"]],decls:20,vars:1,consts:[[1,"ion-padding"],[1,"login-body"],[1,"main-login-frame"],[1,"main-login-intro-container"],[1,"logo-thumb-main"],["alt","HelpGenei","src","../../assets/logo.png"],[1,"company-name"],[1,"company-moto"],[1,"login-block"],["type","indeterminate"],[1,"terms-condition-container"],["routerLink","/terms-condition",1,"link-data"],["routerLink","/privacy-policy",1,"link-data"],[1,"abcRioButton","abcRioButtonBlue",2,"height","40px","width","200px",3,"click"],[1,"abcRioButtonContentWrapper"],[1,"abcRioButtonIcon",2,"padding","10px"],[1,"abcRioButtonSvgImageWithFallback","abcRioButtonIconImage","abcRioButtonIconImage18",2,"width","18px","height","18px"],["version","1.1","xmlns","http://www.w3.org/2000/svg","width","18px","height","18px","viewBox","0 0 48 48",1,"abcRioButtonSvg"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"],["fill","none","d","M0 0h48v48H0z"],[1,"abcRioButtonContents",2,"font-size","14px","line-height","38px"],["id","not_signed_ina1mtzbvprode"],["id","connecteda1mtzbvprode",2,"display","none"]],template:function(t,o){1&t&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ion-thumbnail",4),n.nrm(5,"img",5),n.k0s(),n.j41(6,"div",6),n.EFF(7," Help Genie "),n.k0s(),n.j41(8,"div",7),n.EFF(9," CONNECTING HOMES WITH SKILLED PROFESSIONALS "),n.k0s()(),n.DNE(10,u,17,0,"div",8)(11,m,1,0,"ion-progress-bar",9),n.k0s(),n.j41(12,"div",10)(13,"p"),n.EFF(14,"By clicking button above, you agree to agree to our "),n.j41(15,"a",11),n.EFF(16," Terms of Use and Refund Policy"),n.k0s(),n.EFF(17," and "),n.j41(18,"a",12),n.EFF(19,"privacy policies"),n.k0s()()()()()),2&t&&(n.R7$(10),n.vxM(o.storageInitialized?10:11))},dependencies:[i.Wk,d.W9,d.FH,d.Zx,d.oY],styles:[".userImage[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%}.main-login-frame[_ngcontent-%COMP%]{row-gap:5rem;display:flex;align-content:center;flex-direction:column;justify-content:center}.login-body[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr .1fr;gap:1rem;height:100%}.main-login-intro-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:center;align-items:center;row-gap:1rem}.logo-thumb-main[_ngcontent-%COMP%]{height:5em;width:5em}.company-name[_ngcontent-%COMP%]{font-size:xxx-large;font-weight:700}.company-moto[_ngcontent-%COMP%]{font-size:small;text-align:center}.login-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:1rem}.abcRioButton[_ngcontent-%COMP%]{border-radius:1px;box-shadow:0 2px 4px #00000040;box-sizing:border-box;transition:background-color .218s,border-color .218s,box-shadow .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;color:#262626;cursor:pointer;outline:none;overflow:hidden;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}.abcRioButton[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px 3px #4285f44d}.abcRioButtonBlue[_ngcontent-%COMP%]{background-color:#4285f4;border:none;color:#fff}.abcRioButtonBlue[_ngcontent-%COMP%]:hover{background-color:#4285f4}.abcRioButtonBlue[_ngcontent-%COMP%]:active{background-color:#3367d6}.abcRioButtonLightBlue[_ngcontent-%COMP%]{background-color:#fff;color:#757575}.abcRioButtonLightBlue[_ngcontent-%COMP%]:active{background-color:#eee;color:#6d6d6d}.abcRioButtonIcon[_ngcontent-%COMP%]{float:left}.abcRioButtonBlue[_ngcontent-%COMP%]   .abcRioButtonIcon[_ngcontent-%COMP%]{background-color:#fff;border-radius:1px}.abcRioButtonSvg[_ngcontent-%COMP%]{display:block}.abcRioButtonContents[_ngcontent-%COMP%]{font-family:Roboto,arial,sans-serif;font-size:14px;font-weight:500;letter-spacing:.21px;margin-left:6px;margin-right:6px;vertical-align:top}.abcRioButtonContentWrapper[_ngcontent-%COMP%]{height:100%;width:100%}.abcRioButtonBlue[_ngcontent-%COMP%]   .abcRioButtonContentWrapper[_ngcontent-%COMP%]{border:1px solid transparent}.abcRioButtonErrorWrapper[_ngcontent-%COMP%], .abcRioButtonWorkingWrapper[_ngcontent-%COMP%]{display:none;height:100%;width:100%}.abcRioButtonErrorIcon[_ngcontent-%COMP%], .abcRioButtonWorkingIcon[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.abcRioButtonErrorState[_ngcontent-%COMP%], .abcRioButtonWorkingState[_ngcontent-%COMP%]{border:1px solid #d5d5d5;border:1px solid rgba(0,0,0,.17);box-shadow:0 1px #0000000d;color:#262626}.abcRioButtonErrorState[_ngcontent-%COMP%]:hover, .abcRioButtonWorkingState[_ngcontent-%COMP%]:hover{border:1px solid #aaa;border:1px solid rgba(0,0,0,.25);box-shadow:0 1px #0000001a}.abcRioButtonErrorState[_ngcontent-%COMP%]:active, .abcRioButtonWorkingState[_ngcontent-%COMP%]:active{border:1px solid #aaa;border:1px solid rgba(0,0,0,.25);box-shadow:inset 0 1px #ddd;color:#262626}.abcRioButtonWorkingState[_ngcontent-%COMP%], .abcRioButtonWorkingState[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.abcRioButtonWorkingState[_ngcontent-%COMP%]:active{background-color:#e5e5e5}.abcRioButtonErrorState[_ngcontent-%COMP%], .abcRioButtonErrorState[_ngcontent-%COMP%]:hover{background-color:#fff}.abcRioButtonErrorState[_ngcontent-%COMP%]:active{background-color:#e5e5e5}.abcRioButtonErrorState[_ngcontent-%COMP%]   .abcRioButtonErrorWrapper[_ngcontent-%COMP%], .abcRioButtonWorkingState[_ngcontent-%COMP%]   .abcRioButtonWorkingWrapper[_ngcontent-%COMP%]{display:block}.abcRioButtonErrorState[_ngcontent-%COMP%]   .abcRioButtonContentWrapper[_ngcontent-%COMP%], .abcRioButtonErrorState[_ngcontent-%COMP%]   .abcRioButtonWorkingWrapper[_ngcontent-%COMP%], .abcRioButtonWorkingState[_ngcontent-%COMP%]   .abcRioButtonContentWrapper[_ngcontent-%COMP%]{display:none}.terms-condition-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center}.link-data[_ngcontent-%COMP%]{color:#a1e5ff}"]}),h})()},3598:(R,p,e)=>{e.r(p),e.d(p,{LoginModule:()=>_});var c=e(177),g=e(5260),v=e(3644),n=e(3953);const d=[{path:"",component:v.X,pathMatch:"full"}];let C=(()=>{var i;class u{}return(i=u).\u0275fac=function(f){return new(f||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[g.iI.forChild(d),g.iI]}),u})();var M=e(4742);let _=(()=>{var i;class u{}return(i=u).\u0275fac=function(f){return new(f||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[c.MD,C,M.bv]}),u})()}}]);