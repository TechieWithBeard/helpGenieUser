"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3938],{3938:(E,h,c)=>{c.r(h),c.d(h,{FirebaseAuthenticationWeb:()=>R});var s=c(467),I=c(5083),r=c(7043),l=c(6274);let R=(()=>{class a extends I.E_{constructor(){super(),this.lastConfirmationResult=new Map,(0,r.xI)().onAuthStateChanged(t=>this.handleAuthStateChange(t))}applyActionCode(e){return(0,s.A)(function*(){const t=(0,r.xI)();return(0,r.sv)(t,e.oobCode)})()}createUserWithEmailAndPassword(e){var t=this;return(0,s.A)(function*(){const n=(0,r.xI)(),i=yield(0,r.eJ)(n,e.email,e.password);return t.createSignInResult(i,null)})()}confirmPasswordReset(e){return(0,s.A)(function*(){const t=(0,r.xI)();return(0,r.R4)(t,e.oobCode,e.newPassword)})()}confirmVerificationCode(e){var t=this;return(0,s.A)(function*(){const{verificationCode:n,verificationId:i}=e,u=t.lastConfirmationResult.get(i);if(!u)throw new Error(a.ERROR_CONFIRMATION_RESULT_MISSING);const o=yield u.confirm(n);return t.createSignInResult(o,null)})()}deleteUser(){return(0,s.A)(function*(){const t=(0,r.xI)().currentUser;if(!t)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.hG)(t)})()}fetchSignInMethodsForEmail(e){return(0,s.A)(function*(){const t=(0,r.xI)();return{signInMethods:yield(0,r.Wm)(t,e.email)}})()}getPendingAuthResult(){var e=this;return(0,s.A)(function*(){e.throwNotAvailableError()})()}getCurrentUser(){var e=this;return(0,s.A)(function*(){const t=(0,r.xI)();return{user:e.createUserResult(t.currentUser)}})()}getIdToken(e){return(0,s.A)(function*(){const t=(0,r.xI)();if(!t.currentUser)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return{token:(yield t.currentUser.getIdToken(null==e?void 0:e.forceRefresh))||""}})()}getRedirectResult(){var e=this;return(0,s.A)(function*(){const t=(0,r.xI)(),n=yield(0,r.Q4)(t),i=n?r.LD.credentialFromResult(n):null;return e.createSignInResult(n,i)})()}getTenantId(){return(0,s.A)(function*(){return{tenantId:(0,r.xI)().tenantId}})()}isSignInWithEmailLink(e){return(0,s.A)(function*(){const t=(0,r.xI)();return{isSignInWithEmailLink:(0,r.Pj)(t,e.emailLink)}})()}linkWithApple(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(l.N.APPLE);t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithEmailAndPassword(e){var t=this;return(0,s.A)(function*(){const n=r.IX.credential(e.email,e.password),i=yield t.linkCurrentUserWithCredential(n);return t.createSignInResult(i,n)})()}linkWithEmailLink(e){var t=this;return(0,s.A)(function*(){const n=r.IX.credentialWithLink(e.email,e.emailLink),i=yield t.linkCurrentUserWithCredential(n);return t.createSignInResult(i,n)})()}linkWithFacebook(e){var t=this;return(0,s.A)(function*(){const n=new r.sk;t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.sk.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithGameCenter(){var e=this;return(0,s.A)(function*(){e.throwNotAvailableError()})()}linkWithGithub(e){var t=this;return(0,s.A)(function*(){const n=new r.Dt;t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.Dt.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithGoogle(e){var t=this;return(0,s.A)(function*(){const n=new r.HF;t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.HF.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithMicrosoft(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(l.N.MICROSOFT);t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithOpenIdConnect(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(e.providerId);t.applySignInOptions(e,n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithPhoneNumber(e){var t=this;return(0,s.A)(function*(){const i=(0,r.xI)().currentUser;if(!i)throw new Error(a.ERROR_NO_USER_SIGNED_IN);if(!e.phoneNumber)throw new Error(a.ERROR_PHONE_NUMBER_MISSING);if(!(e.recaptchaVerifier&&e.recaptchaVerifier instanceof r.kT))throw new Error(a.ERROR_RECAPTCHA_VERIFIER_MISSING);try{const u=yield(0,r.uL)(i,e.phoneNumber,e.recaptchaVerifier),{verificationId:o}=u;t.lastConfirmationResult.set(o,u),t.notifyListeners(a.PHONE_CODE_SENT_EVENT,{verificationId:o})}catch(u){const o={message:t.getErrorMessage(u)};t.notifyListeners(a.PHONE_VERIFICATION_FAILED_EVENT,o)}})()}linkWithPlayGames(){var e=this;return(0,s.A)(function*(){e.throwNotAvailableError()})()}linkWithTwitter(e){var t=this;return(0,s.A)(function*(){const n=new r.ny;t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.ny.credentialFromResult(i);return t.createSignInResult(i,u)})()}linkWithYahoo(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(l.N.YAHOO);t.applySignInOptions(e||{},n);const i=yield t.linkCurrentUserWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}reload(){return(0,s.A)(function*(){const t=(0,r.xI)().currentUser;if(!t)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.yQ)(t)})()}revokeAccessToken(e){return(0,s.A)(function*(){const t=(0,r.xI)();return(0,r.Kz)(t,e.token)})()}sendEmailVerification(e){return(0,s.A)(function*(){const n=(0,r.xI)().currentUser;if(!n)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.gA)(n,null==e?void 0:e.actionCodeSettings)})()}sendPasswordResetEmail(e){return(0,s.A)(function*(){const t=(0,r.xI)();return(0,r.J1)(t,e.email,e.actionCodeSettings)})()}sendSignInLinkToEmail(e){return(0,s.A)(function*(){const t=(0,r.xI)();return(0,r.MN)(t,e.email,e.actionCodeSettings)})()}setLanguageCode(e){return(0,s.A)(function*(){(0,r.xI)().languageCode=e.languageCode})()}setPersistence(e){return(0,s.A)(function*(){const t=(0,r.xI)();switch(e.persistence){case l.y.BrowserLocal:yield(0,r.oM)(t,r.F0);break;case l.y.BrowserSession:yield(0,r.oM)(t,r.iM);break;case l.y.IndexedDbLocal:yield(0,r.oM)(t,r.Gt);break;case l.y.InMemory:yield(0,r.oM)(t,r.gz)}})()}setTenantId(e){return(0,s.A)(function*(){(0,r.xI)().tenantId=e.tenantId})()}signInAnonymously(){var e=this;return(0,s.A)(function*(){const t=(0,r.xI)(),n=yield(0,r.zK)(t);return e.createSignInResult(n,null)})()}signInWithApple(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(l.N.APPLE);t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithCustomToken(e){var t=this;return(0,s.A)(function*(){const n=(0,r.xI)(),i=yield(0,r.p)(n,e.token);return t.createSignInResult(i,null)})()}signInWithEmailAndPassword(e){var t=this;return(0,s.A)(function*(){const n=(0,r.xI)(),i=yield(0,r.x9)(n,e.email,e.password);return t.createSignInResult(i,null)})()}signInWithEmailLink(e){var t=this;return(0,s.A)(function*(){const n=(0,r.xI)(),i=yield(0,r.hK)(n,e.email,e.emailLink);return t.createSignInResult(i,null)})()}signInWithFacebook(e){var t=this;return(0,s.A)(function*(){const n=new r.sk;t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.sk.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithGithub(e){var t=this;return(0,s.A)(function*(){const n=new r.Dt;t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.Dt.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithGoogle(e){var t=this;return(0,s.A)(function*(){const n=new r.HF;t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.HF.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithMicrosoft(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(l.N.MICROSOFT);t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithOpenIdConnect(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(e.providerId);t.applySignInOptions(e,n);const i=yield t.signInWithPopupOrRedirect(n,e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithPhoneNumber(e){var t=this;return(0,s.A)(function*(){if(!e.phoneNumber)throw new Error(a.ERROR_PHONE_NUMBER_MISSING);if(!(e.recaptchaVerifier&&e.recaptchaVerifier instanceof r.kT))throw new Error(a.ERROR_RECAPTCHA_VERIFIER_MISSING);const n=(0,r.xI)();try{const i=yield(0,r.ik)(n,e.phoneNumber,e.recaptchaVerifier),{verificationId:u}=i;t.lastConfirmationResult.set(u,i),t.notifyListeners(a.PHONE_CODE_SENT_EVENT,{verificationId:u})}catch(i){const u={message:t.getErrorMessage(i)};t.notifyListeners(a.PHONE_VERIFICATION_FAILED_EVENT,u)}})()}signInWithPlayGames(){var e=this;return(0,s.A)(function*(){e.throwNotAvailableError()})()}signInWithGameCenter(){var e=this;return(0,s.A)(function*(){e.throwNotAvailableError()})()}signInWithTwitter(e){var t=this;return(0,s.A)(function*(){const n=new r.ny;t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.ny.credentialFromResult(i);return t.createSignInResult(i,u)})()}signInWithYahoo(e){var t=this;return(0,s.A)(function*(){const n=new r.LD(l.N.YAHOO);t.applySignInOptions(e||{},n);const i=yield t.signInWithPopupOrRedirect(n,null==e?void 0:e.mode),u=r.LD.credentialFromResult(i);return t.createSignInResult(i,u)})()}signOut(){return(0,s.A)(function*(){yield(0,r.xI)().signOut()})()}unlink(e){var t=this;return(0,s.A)(function*(){const n=(0,r.xI)();if(!n.currentUser)throw new Error(a.ERROR_NO_USER_SIGNED_IN);const i=yield(0,r.y1)(n.currentUser,e.providerId);return{user:t.createUserResult(i)}})()}updateEmail(e){return(0,s.A)(function*(){const n=(0,r.xI)().currentUser;if(!n)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.Ww)(n,e.newEmail)})()}updatePassword(e){return(0,s.A)(function*(){const n=(0,r.xI)().currentUser;if(!n)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.f3)(n,e.newPassword)})()}updateProfile(e){return(0,s.A)(function*(){const n=(0,r.xI)().currentUser;if(!n)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.r7)(n,{displayName:e.displayName,photoURL:e.photoUrl})})()}useAppLanguage(){return(0,s.A)(function*(){(0,r.xI)().useDeviceLanguage()})()}useEmulator(e){return(0,s.A)(function*(){const t=(0,r.xI)(),n=e.port||9099,i=e.scheme||"http";e.host.includes("://")?(0,r.Wq)(t,`${e.host}:${n}`):(0,r.Wq)(t,`${i}://${e.host}:${n}`)})()}handleAuthStateChange(e){const n={user:this.createUserResult(e)};this.notifyListeners(a.AUTH_STATE_CHANGE_EVENT,n,!0)}applySignInOptions(e,t){if(e.customParameters){const n={};e.customParameters.map(i=>{n[i.key]=i.value}),t.setCustomParameters(n)}if(e.scopes)for(const n of e.scopes)t.addScope(n)}signInWithPopupOrRedirect(e,t){const n=(0,r.xI)();return"redirect"===t?(0,r.$2)(n,e):(0,r.df)(n,e)}linkCurrentUserWithPopupOrRedirect(e,t){const n=(0,r.xI)();if(!n.currentUser)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return"redirect"===t?(0,r.dC)(n.currentUser,e):(0,r.x8)(n.currentUser,e)}linkCurrentUserWithCredential(e){const t=(0,r.xI)();if(!t.currentUser)throw new Error(a.ERROR_NO_USER_SIGNED_IN);return(0,r.OS)(t.currentUser,e)}createSignInResult(e,t){return{user:this.createUserResult((null==e?void 0:e.user)||null),credential:this.createCredentialResult(t),additionalUserInfo:this.createAdditionalUserInfoResult(e)}}createCredentialResult(e){if(!e)return null;const t={providerId:e.providerId};return e instanceof r.RM&&(t.accessToken=e.accessToken,t.idToken=e.idToken,t.secret=e.secret),t}createUserResult(e){return e?{displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,metadata:this.createUserMetadataResult(e.metadata),phoneNumber:e.phoneNumber,photoUrl:e.photoURL,providerData:this.createUserProviderDataResult(e.providerData),providerId:e.providerId,tenantId:e.tenantId,uid:e.uid}:null}createUserMetadataResult(e){const t={};return e.creationTime&&(t.creationTime=Date.parse(e.creationTime)),e.lastSignInTime&&(t.lastSignInTime=Date.parse(e.lastSignInTime)),t}createUserProviderDataResult(e){return e.map(t=>({displayName:t.displayName,email:t.email,phoneNumber:t.phoneNumber,photoUrl:t.photoURL,providerId:t.providerId,uid:t.uid}))}createAdditionalUserInfoResult(e){if(!e)return null;const t=(0,r.B8)(e);if(!t)return null;const{isNewUser:n,profile:i,providerId:u,username:o}=t,d={isNewUser:n};return null!==u&&(d.providerId=u),null!==i&&(d.profile=i),null!=o&&(d.username=o),d}getErrorMessage(e){return e instanceof Object&&"message"in e&&"string"==typeof e.message?e.message:JSON.stringify(e)}throwNotAvailableError(){throw new Error("Not available on web.")}}return a.AUTH_STATE_CHANGE_EVENT="authStateChange",a.PHONE_CODE_SENT_EVENT="phoneCodeSent",a.PHONE_VERIFICATION_FAILED_EVENT="phoneVerificationFailed",a.ERROR_NO_USER_SIGNED_IN="No user is signed in.",a.ERROR_PHONE_NUMBER_MISSING="phoneNumber must be provided.",a.ERROR_RECAPTCHA_VERIFIER_MISSING="recaptchaVerifier must be provided and must be an instance of RecaptchaVerifier.",a.ERROR_CONFIRMATION_RESULT_MISSING="No confirmation result with this verification id was found.",a})()}}]);